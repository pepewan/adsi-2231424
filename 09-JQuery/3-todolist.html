<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todolist</title>
    <link rel="stylesheet" href="CSS/style.css">
    <style>
        figure.todolist {
            background-color: #ffffff;
            border-radius: 20px;
            margin: 20px auto;
            padding: 10px;
            width: 360px;
        }
        
        figure.todolist header {
            border-bottom: 2px solid black;
        }
        
        figure.todolist header h3 {
            background-color: transparent;
            display: inline-block;
            color: #0b0b0f;
            text-align: center;
            width: 42%;
        }
        
        figure.todolist table.list {
            width: 10%;
        }
        
        figure.todolist table.list td {
            padding: 10px;
            position: relative;
        }
        
        figure.todolist table.list td button {
            border: none;
            border-radius: 20px;
            background-color: brown;
            color: #fff;
            cursor: pointer;
            position: relative;
            padding: 10px 20px;
            right: -100px;
        }
        
        figure.todolist footer {
            margin-top: 20px;
        }
        
        figure.todolist footer input.todo {
            border: 1px solid #1515b9;
            border-radius: 20px;
            padding: 10px;
            width: 256px;
        }
    </style>
</head>

<body>
    <main>
        <header>
            <h1> <span><a href="index.html">&larr;</a></span> todolist</h1>
        </header>
        <section>
            <figure class="todolist">
                <header>
                    <h3><span class="ntask">1</span> Task</h3>
                    <h3><span class="nremians">1</span> Remain</h3>
                </header>
                <table class="list">
                    <tr>
                        <td><input type="checkbox">1 <button class="delete">Delete</button></td>
                    </tr>

                </table>
                <footer>
                    <input type="text" class="todo" placeholder="Add to...">
                    <button class="btnAdd"> Add</button>
                </footer>
            </figure>
        </section>
    </main>
    <script src="JS/jquery-3.6.0.min.js"></script>
    <script>
        $(selector).click(function(e) {
            e.preventDefault();
            if ((".list").val().length > 0) {
                $(".list").append("<tr><td><input type='checkbox'>" + $(".todo").val() + "<button>Delete</button></td></tr>");
                $(".todo".val(""));
                $ntask++;
                if ($ntasks > 1) {
                    $(".ntasis").text($ntasks + " Tasks")
                } else {
                    $(".ntasks").text($ntasks + "Task")
                }
            }
        });
        $(".delete").on("click", function() {
            $(this).closest("tr").remove();
            $ntasks--;
            if ($ntasks > 1) {
                $(".ntasks").text($ntasks + "Task");
            } else {
                $(".ntasks").text($ntaks + "Task");
            }
        })
        $("body").on("click", ".delete", function() {
            $(this).closest("tr").remove();
            $ntasks--;
            if ($ntask > 1) {
                $(".ntasks").text($ntasks + "Tasks");
            } else {
                $(".ntasks ").text($ntasks + "Task");
            }
        })

        $("table").on("click", ".delete", function() {
            $(this).closest("tr").remove();
            $ntasks--;
            if ($ntasks > 1) {
                $(".ntasks").text($ntasks + "Tasks");
            } else {
                $(".tasks").text($ntasks + "Tasks");
            }
            if (!$(this).parent("td").children("input").prop("checked")) {
                $nremains--;
            }
            if ($nremains > 1) {
                $(".nremais").text($nremains + "Remains");
            } else {
                $(".nremains").text($nremais + "Remain");
            }
        })

        $("table").on("click", "td input", function() {
            if ($(this).prop("checked")) {
                $(this).parent().css("text-decoration", "line-through");
                $nremains--;
            } else {
                $(this).parent().css("text-decoration", "none");
                $nremains--;
            }
            if ($nremains > 1) {
                $(".nremains").text($nremains + "Remains");
            } else {
                $(".nremais").text($nremains + "Remain");
            }

        })
    </script>
</body>

</html>